{"version":3,"sources":["/Users/macbookair/Documents/andres/frontend/src/app/pages/facturas/facturas.component.html","/Users/macbookair/Documents/andres/frontend/src/app/pages/facturas/facturas.component.scss","/Users/macbookair/Documents/andres/frontend/src/app/pages/facturas/facturas.component.ts","/Users/macbookair/Documents/andres/frontend/src/app/pages/facturas/facturas.module.ts","/Users/macbookair/Documents/andres/frontend/src/app/pages/facturas/facturas.service.ts"],"names":[],"mappings":"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","file":"facturas.module.chunk.js","sourcesContent":["module.exports = \"<div class=\\\"row\\\">\\n    <div class=\\\"col\\\">\\n        <div widget class=\\\"card\\\">\\n            <div class=\\\"card-header\\\">\\n                <span class=\\\"text-uppercase\\\">Facturas</span>\\n                <div class=\\\"widget-controls\\\"> \\n                    <a data-widgster=\\\"expand\\\" href=\\\"#\\\" class=\\\"transition\\\"><i class=\\\"fa fa-chevron-down\\\"></i></a>\\n                    <a data-widgster=\\\"collapse\\\" href=\\\"#\\\" class=\\\"transition\\\"><i class=\\\"fa fa-chevron-up\\\"></i></a>\\n                    <a data-widgster=\\\"fullscreen\\\" href=\\\"#\\\" class=\\\"transition\\\"><i class=\\\"fa fa-expand\\\"></i></a>\\n                    <a data-widgster=\\\"restore\\\" href=\\\"#\\\" class=\\\"transition\\\"><i class=\\\"fa fa-compress\\\"></i></a>                          \\n                    <a data-widgster=\\\"close\\\" href=\\\"#\\\" class=\\\"transition\\\"><i class=\\\"fa fa-times\\\"></i></a>\\n                </div>        \\n            </div>\\n            <div class=\\\"card-block widget-body\\\">\\n\\n\\n                <div class=\\\"w-200 pull-right bottom-15\\\">\\n                    <div class=\\\"input-group input-group-sm\\\">\\n                        <span class=\\\"input-group-addon\\\"><i class=\\\"fa fa-search\\\"></i></span>\\n                        <input class=\\\"form-control\\\" id=\\\"table-search-input\\\" [(ngModel)]=\\\"searchText\\\" type=\\\"text\\\" placeholder=\\\"Buscar por numero...\\\">\\n                    </div>\\n                </div> \\n                <div class=\\\"w-200 pull-left bottom-15\\\">\\n                       <button data-toggle=\\\"modal\\\" data-target=\\\"#nuevo-factura\\\" class=\\\"btn btn-outline generic btn-sm\\\">\\n                           <i class=\\\"fa fa-plus-circle btn-sm \\\"> </i>\\n                           Nuevo\\n                       </button>\\n                    </div> \\n                    <div class=\\\"table-responsive\\\">\\n                            <table class=\\\"table\\\">\\n                                <thead>\\n                                    <tr>\\n                                 \\n                                        <th>Numero</th>\\n                                        <th>Auto / Cliente</th>\\n                                        <th>Servicios</th>\\n                                        <th>Subtotal</th>\\n                                        <th>Iva</th>\\n                                        <th>Total</th>\\n                                    </tr>\\n                                </thead>\\n                                <tbody>\\n                                    <tr *ngFor=\\\"let factura of data\\\">\\n                                        <td>{{factura.id}}</td>\\n                                        <td>  <b>Cliente:</b> {{factura.cliente.nombre}} {{factura.cliente.apellido}} <br/> <b>Auto:</b> </td>\\n                                        <td> \\n                                                <ul class=\\\"list-group\\\">\\n                                                        <li *ngFor=\\\"let item of factura.factura_items\\\" class=\\\"list-group-item justify-content-between\\\">                        \\n                                                            <b>{{item.servicio.nombre}}</b> \\n                                                            <span class=\\\"badge badge-main badge-pill\\\">{{item.precio}}$</span>\\n                                                        </li>\\n                                                     \\n                                                 \\n                                                 </ul>  \\n                                        </td>\\n                                        <td> <span class=\\\"badge badge-success big-text\\\">{{factura.sub_total}} $</span></td>\\n                                        <td> <span class=\\\"badge badge-warning big-text\\\"> {{factura.iva}}</span></td>\\n                                        <td><span class=\\\"badge badge-main big-text\\\">{{factura.total}}$</span>  </td>\\n                                        <td> <a href=\\\"{{url}}get_pdf_factura/{{factura.id}}\\\"><button  class=\\\"btn btn-main btn-sm\\\"><i class=\\\"fa fa-file-pdf-o\\\"></i>Factura</button></a>  </td>\\n                                    </tr>\\n                              \\n                             \\n                                </tbody>\\n                            </table>\\n                        </div>\\n             \\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"modal fade\\\" id=\\\"nuevo-factura\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"modal-label\\\" style=\\\"display: none;\\\">\\n            <div class=\\\"modal-dialog modal-lg\\\" role=\\\"document\\\">\\n                <div class=\\\"modal-content\\\">\\n                    <div class=\\\"modal-header generic \\\">\\n                        <h4 class=\\\"modal-title\\\" id=\\\"modal-label\\\"><i class=\\\"fa fa-factura\\\"></i> Nueva factura</h4>\\n                        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">Ã—</span></button>\\n                    </div>\\n                    <div class=\\\"modal-body\\\">\\n                            <div class=\\\"clearfix\\\">\\n                                    <ul class=\\\"nav nav-tabs top pull-left w-100p\\\">\\n                                        <li class=\\\"nav-item\\\">\\n                                            <a class=\\\"nav-link active\\\" data-toggle=\\\"tab\\\" href=\\\"#ta\\\">Datos</a>\\n                                        </li>\\n                                                           \\n                                    </ul>\\n                                </div>\\n                                <div class=\\\"tab-content top\\\">\\n                                        <div class=\\\"tab-pane active\\\" id=\\\"ta\\\">\\n                                                <form [formGroup]=\\\"facturaForm\\\">\\n                                                        <div class=\\\"row\\\">\\n                                                            <div class=\\\"col-md-6\\\" >\\n                                                                    <div [ngClass]=\\\"{'has-success':facturaForm.get('fecha').value != '' }\\\">\\n                                                                            <div class=\\\"form-group\\\">\\n                                                                                    <label for=\\\"\\\">Fecha:</label>\\n                                                                                    <input [ngClass]=\\\"{'form-control-success':facturaForm.get('fecha').value != '' }\\\" formControlName=\\\"fecha\\\" type=\\\"date\\\" class=\\\"form-control\\\">\\n                                                                            </div>\\n\\n                                                                    </div>\\n                                                                    <div [ngClass]=\\\"{'has-success':facturaForm.get('sub_total').value != '' }\\\">\\n                                                                            <div class=\\\"form-group\\\">\\n                                                                                    <label for=\\\"\\\">SubTotal:</label>\\n                                                                                    <input disabled [ngClass]=\\\"{'form-control-success':facturaForm.get('sub_total').value != '' }\\\" formControlName=\\\"sub_total\\\" type=\\\"number\\\" class=\\\"form-control bg-success text-white\\\">\\n                                        \\n                                                                            </div>\\n\\n                                                                    </div>\\n                                                                    <div [ngClass]=\\\"{'has-success':facturaForm.get('iva').value != '' }\\\">\\n                                                                            <div class=\\\"form-group\\\">\\n                                                                                    <label for=\\\"\\\">Monto de Iva:</label>\\n                                                                                    <input disabled [ngClass]=\\\"{'form-control-success':facturaForm.get('iva').value != '' }\\\" formControlName=\\\"iva\\\" type=\\\"number\\\" class=\\\"form-control bg-warning text-white\\\">\\n                                        \\n                                                                            </div>\\n\\n                                                                    </div>\\n                                                                    <div [ngClass]=\\\"{'has-success':facturaForm.get('total').value != '' }\\\">\\n                                                                            <div class=\\\"form-group\\\">\\n                                                                                    <label for=\\\"\\\">Monto Total:</label>\\n                                                                                    <input disabled [ngClass]=\\\"{'form-control-success':facturaForm.get('total').value != '' }\\\" formControlName=\\\"total\\\" type=\\\"number\\\" class=\\\"form-control bg-primary text-white\\\">\\n                                        \\n                                                                            </div>\\n\\n                                                                    </div>\\n                                                                   \\n                                       \\n                                                                \\n                                                            \\n                                                               \\n                                                                </div>\\n                                                           \\n                                                            <div class=\\\"col-md-6\\\"  >\\n                                                                    \\n\\n                                                        \\n                                                        <div class=\\\"form-group\\\">\\n                                                                <label for=\\\"exampleSelect1\\\">Orden de Trabajo</label>\\n                                                                        <ng-select\\n                                                                        formControlName=\\\"ingreso_taller_id\\\"\\n                                                                        [(options)]=\\\"talleres\\\"\\n                                                                        [placeholder]=\\\"autosLabel\\\"\\n                                                                        [multiple]=\\\"false\\\"\\n                                                                    >\\n                                                                    </ng-select>\\n                                                                 \\n                                                            \\n                                                                    \\n\\n                                                            </div>\\n\\n                                                            <div class=\\\"form-group\\\">\\n                                                                    <label for=\\\"exampleSelect1\\\">Cliente</label>\\n                                                                            <ng-select\\n                                                                            formControlName=\\\"cliente_id\\\"\\n                                                                            [(options)]=\\\"clientes\\\"\\n                                                                            [placeholder]=\\\"clientesLabel\\\"\\n                                                                            [multiple]=\\\"false\\\"\\n                                                                        >\\n                                                                        </ng-select>\\n                                                                     \\n                                                                \\n                                                                        \\n\\n                                                                </div>\\n        \\n                                                                        \\n                                                                 \\n                                                                  \\n                                                                </div>\\n                                                        </div>\\n                                                       \\n                                                         \\n                                                      </form>\\n                                                      <div class=\\\"card card-outline-default text-center\\\">\\n                                                        <div class=\\\"card-header \\\">\\n                                                                Listado de Servicios Realizados\\n                                                            </div>\\n                                                        <div class=\\\"card-block\\\">\\n                                                                <form [formGroup]=\\\"itemfacturaForm\\\" class=\\\"row form-inline\\\">\\n                                                                        <div class=\\\"form-group col-md-10 col-sm-6\\\" [ngClass]=\\\"{}\\\">\\n                                        \\n                                                                            <div class=\\\"row\\\">\\n                                                                \\n                                                                                <div class=\\\"col-md-8\\\">\\n                                                                                    <div class=\\\"form-group\\\">\\n                                                                                                <ng-select\\n                                                                                                formControlName=\\\"servicio_id\\\"\\n                                                                                                [(options)]=\\\"servicios\\\"\\n                                                                                                [placeholder]=\\\"servicioLabel\\\"\\n                                                                                                [multiple]=\\\"false\\\"\\n                                                                                                (selected)=\\\"onSelectedServicio($event)\\\"\\n                                                                                            >\\n                                                                                            </ng-select>\\n                                                                                         \\n                                                                                    \\n                                                                                            \\n                    \\n                                                                                    </div>\\n                                                                                </div>\\n                                                                                <div class=\\\"col-md-4\\\">\\n                                                                                        <input  type=\\\"number\\\" formControlName=\\\"precio\\\" class=\\\"form-control\\\" placeholder=\\\"$\\\">\\n                                                                                </div>\\n                                                                            </div>\\n                                                                           \\n                                                                           \\n                                                                        </div>\\n                                                                     \\n                                                                    \\n                                                                        <div class=\\\"form-group col-md-2 col-sm-6\\\" *ngIf=\\\"create\\\">\\n                                                                            <button [disabled]=\\\"!itemfacturaForm.valid\\\" (click)=\\\"addItem()\\\" type=\\\"submit\\\" class=\\\"btn btn-primary\\\">Agregar</button>\\n                                                                        </div>\\n                                                                        \\n                                                                        <div class=\\\"form-group col-md-2 col-sm-6\\\" *ngIf=\\\"!create\\\">\\n                                                                            <button [disabled]=\\\"!itemfacturaForm.valid\\\" (click)=\\\"editRole()\\\" type=\\\"submit\\\" class=\\\"btn btn-primary\\\">Editar</button>\\n                                                                        </div>\\n                                                                </form>  \\n                                                                <table class=\\\"table table-striped\\\">\\n                                                                        <thead>\\n                                                                            <tr>\\n                                                                                <th>Servicio Realizado</th>\\n                                                                                <th>Precio</th>\\n                                                                                <th></th>\\n                        \\n                                                                            </tr>\\n                                                                        </thead>\\n                                                                        <tbody>\\n                                                                            <tr *ngFor=\\\"let item of items;let i = index\\\">\\n                                                        \\n                                                                                <th>{{item.servicio_nombre}}</th>\\n                                                                                <th>{{item.precio}} $</th>\\n                                                                                <td><button (click)=\\\"eliminarItem(i)\\\" class=\\\"btn btn-danger\\\"><i class=\\\"fa fa-trash-o\\\"></i> </button></td>\\n                                                                            </tr>\\n                                                                            \\n                                                                        </tbody>\\n                                                                    </table>\\n                                                        </div>\\n                                                    </div>\\n                                         \\n                                        </div>\\n                                    \\n \\n                                    </div>  \\n             \\n                  \\n                    </div>\\n                    <div class=\\\"modal-footer\\\">\\n                        <button type=\\\"button\\\" [disabled]=\\\"!facturaForm.valid\\\" (click)=\\\"savefactura()\\\" class=\\\"btn btn-primary\\\" data-dismiss=\\\"modal\\\">Guardar</button>\\n                        <button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\">Cerrar</button>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/macbookair/Documents/andres/frontend/src/app/pages/facturas/facturas.component.html\n// module id = ../../../../../src/app/pages/facturas/facturas.component.html\n// module chunks = facturas.module","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/**** Colors (recommended use HEX colors) ****/\\n/**** App roots ****/\\n/**** General ****/\\n/**** Navbar ****/\\n/**** Sidebar ****/\\n/**** Progress ****/\\n/**** Fonts ****/\\n/**** Social icons ****/\\nbody::after {\\n  content: '{\\\"main-color\\\":\\\"#2E0502\\\",\\\"default-color\\\":\\\"#fff\\\",\\\"dark-color\\\":\\\"#000\\\",\\\"primary-color\\\":\\\"#024a88\\\",\\\"success-color\\\":\\\"#2d922d\\\",\\\"warning-color\\\":\\\"#f79a17\\\",\\\"danger-color\\\":\\\"#bf1725\\\",\\\"info-color\\\":\\\"#248dad\\\",\\\"sidebar-bg-color\\\":\\\"#640D05\\\",\\\"gray\\\":\\\"#555\\\",\\\"gray-light\\\":\\\"#ccc\\\"}';\\n  display: none; }\\n\\n.user-img {\\n  width: 50px;\\n  height: 50px; }\\n\\n.datatable .progress {\\n  background-color: #ccc; }\\n\\n.datatable .pagination {\\n  display: inline-block;\\n  padding-left: 0;\\n  margin-top: 1rem;\\n  margin-bottom: 1rem;\\n  border-radius: 0.25rem; }\\n  .datatable .pagination li {\\n    display: inline; }\\n    .datatable .pagination li a {\\n      position: relative;\\n      float: left;\\n      padding: 0.275rem 0.75rem;\\n      font-size: 0.875rem;\\n      margin-left: -1px;\\n      color: #024a88;\\n      text-decoration: none;\\n      background-color: #fff;\\n      border: 1px solid #ccc; }\\n      .datatable .pagination li a:hover {\\n        color: #014c8c;\\n        background-color: #eceeef;\\n        border-color: #ddd; }\\n    .datatable .pagination li:first-child a {\\n      margin-left: 0;\\n      border-bottom-left-radius: 0.2rem;\\n      border-top-left-radius: 0.2rem; }\\n    .datatable .pagination li:last-child a {\\n      border-bottom-right-radius: 0.2rem;\\n      border-top-right-radius: 0.2rem; }\\n    .datatable .pagination li.active a {\\n      z-index: 2;\\n      color: #fff;\\n      cursor: default;\\n      background-color: #024a88;\\n      border-color: #024a88; }\\n    .datatable .pagination li.disabled a {\\n      color: #ccc;\\n      pointer-events: none;\\n      cursor: not-allowed;\\n      background-color: #fff;\\n      border-color: #ccc; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/macbookair/Documents/andres/frontend/src/app/pages/facturas/facturas.component.scss\n// module id = ../../../../../src/app/pages/facturas/facturas.component.scss\n// module chunks = facturas.module","import { EndPointService } from './../../services/endpoint.service';\nimport { GlobalService } from '../../services/global.service';\nimport { SelectService } from '../../services/select.service';\nimport { ValidationService } from '../../services/validation.service';\nimport { Component, ViewEncapsulation, ViewChild, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { FormsModule, FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { DataTableModule } from \"angular2-datatable\";\nimport { PipesModule } from '../../theme/pipes/pipes.module';\nimport { DirectivesModule } from '../../theme/directives/directives.module';\nimport { FacturaService } from './facturas.service';\n\n\n@Component({\n  selector: 'facturaes-component',\n  encapsulation: ViewEncapsulation.None,\n  templateUrl: './facturas.component.html',\n  styleUrls: ['./facturas.component.scss'],\n  providers: [ FacturaService,SelectService ,GlobalService ]\n})\nexport class FacturasComponent implements OnInit {\n    public data: any;\n    public searchText:string;\n    facturaForm:FormGroup;\n    itemfacturaForm:FormGroup;\n    clientes:any = [];\n    talleres:any = [];\n    servicios:any = [];\n    items:any = [];\n    create:boolean=true;\n    cliente:string = \"Seleccione cliente\";\n    autoLabel:string = \"Seleccione Auto\";\n    servicioLabel:string = \"Seleccione Servicio....\";\n    url:any;\n\n    constructor(private _FacturaService:FacturaService,public fb:FormBuilder,public selectService:SelectService,public global:GlobalService,public ep:EndPointService){\n        this.facturaForm = this.fb.group({\n            ingreso_taller_id:['',Validators.compose([Validators.required])],\n            fecha:['',Validators.compose([Validators.required])],\n            sub_total:['',Validators.compose([Validators.required])],\n            iva:['',Validators.compose([Validators.required])],\n            total:['',Validators.compose([Validators.required])],\n            cliente_id:['',Validators.compose([Validators.required])],\n            items:['']\n\n        });\n        this.itemfacturaForm = this.fb.group({\n            servicio_id:['',Validators.compose([Validators.required])],\n            servicio_nombre:[''],\n            precio:['',Validators.compose([Validators.required])]\n        });\n        _FacturaService.getAll().then(res=>{\n            console.log(\"en component\",res);\n            this.data = res\n        });  \n        this.url = this.ep.getApiUrl();\n        \n    }\n    ngOnInit(){\n     this.selectService.loadIngresosTaller().then((res)=>{\n         this.talleres = res;\n     });\n     this.selectService.loadClientes().then((res)=>{\n        this.clientes = res;\n    });\n    this.selectService.loadServicios().then((res)=>{\n        this.servicios = res;\n    });\n\n \n     \n    }\n    savefactura(){\n            this.items.map((res)=>{\n                delete res['servicio_nombre'];\n            })\n            this.facturaForm.controls['items'].setValue(this.items);\n\n            console.log(this.facturaForm.value);\n            \n            this._FacturaService.savefactura(this.facturaForm.value).then((result)=>{\n                this._FacturaService.getAll().then(res=>{\n                    console.log(\"en component\",res);\n                    this.data = res;\n                    this.facturaForm.reset();\n                    this.facturaForm.setValue({\n                        ingreso_taller_id:'',\n                        fecha:'',\n                        sub_total:'',\n                        iva:'',\n                        total:'',\n                        cliente_id:'',\n                        items:[]\n\n                    })\n                    this.items = [];\n\n                });    \n            })\n          \n        \n    }\n    addItem(){\n            this.items.push(this.itemfacturaForm.value);\n            this.itemfacturaForm.reset();\n            let arrayAux = this.items;\n            let totalVal = 0;\n            arrayAux.forEach(element => {\n                totalVal = totalVal + (element.precio );\n            });\n            let iva = totalVal * this.global.iva / 100;\n            let total = totalVal + iva;\n            this.facturaForm.controls['sub_total'].setValue(totalVal);\n            this.facturaForm.controls['iva'].setValue(iva);\n            this.facturaForm.controls['total'].setValue(total);\n    }\n    eliminarItem(index){\n        console.log(index);\n        this.items.splice(index);\n        let arrayAux = this.items;\n        let totalVal = 0;\n        arrayAux.forEach(element => {\n            totalVal = totalVal + (element.precio );\n        });\n        let iva = totalVal * this.global.iva / 100;\n        let total = totalVal + iva;\n        this.facturaForm.controls['sub_total'].setValue(totalVal);\n        this.facturaForm.controls['iva'].setValue(iva);\n        this.facturaForm.controls['total'].setValue(total);\n        \n    }\n    onSelectedServicio(servicio){\n            console.log(servicio);\n            this.itemfacturaForm.controls['servicio_nombre'].setValue(servicio.label);\n            this._FacturaService.getPrecio(servicio.value).then(res=>{\n                this.itemfacturaForm.controls['precio'].setValue(res);\n            })\n            \n    }\n\n    \n}\n\n\n\n\n// WEBPACK FOOTER //\n// /Users/macbookair/Documents/andres/frontend/src/app/pages/facturas/facturas.component.ts","import { FacturasComponent } from './facturas.component';\nimport { SelectModule } from 'angular2-select';\nimport { environment } from './../../../environments/environment';\nimport { UserService } from './../../services/user.service';\nimport { EndPointService } from './../../services/endpoint.service';\nimport { FormsModule,ReactiveFormsModule } from '@angular/forms';\nimport { DirectivesModule } from './../../theme/directives/directives.module';\nimport { NgModule } from '@angular/core';\nimport { DataTableModule } from \"angular2-datatable\";\nimport { PipesModule } from '../../theme/pipes/pipes.module';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { HttpModule } from '@angular/http';\n\nexport const routes = [\n    { path: '', redirectTo: '', pathMatch: 'full'},\n    { path: 'listado', component: FacturasComponent, data: { breadcrumb: 'Listado' } }\n  ];\n\n@NgModule({\n    imports: [\n        DataTableModule,\n        PipesModule,\n        DirectivesModule,\n        CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n        RouterModule.forChild(routes),\n        HttpModule,\n        SelectModule\n    ],\n    exports: [],\n    declarations: [FacturasComponent],\n    providers: [EndPointService,UserService],\n})\n\nexport class FacturasModule { }\n\n\n\n// WEBPACK FOOTER //\n// /Users/macbookair/Documents/andres/frontend/src/app/pages/facturas/facturas.module.ts","import { EndPointService } from './../../services/endpoint.service';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Injectable } from '@angular/core';\r\n@Injectable()\r\nexport class FacturaService { \r\n\r\n\r\n    constructor(public ep:EndPointService){\r\n\r\n        \r\n        }\r\n        public  getAll() {\r\n        return this.ep.getFacturas().then(\r\n            (response)=>{\r\n            return response.facturas;\r\n        },\r\n            (err)=>{\r\n                console.log('error:',err);   \r\n            }\r\n        )\r\n        }\r\n        savefactura(factura){\r\n            return this.ep.saveFactura(factura).then(\r\n                (result)=>{\r\n                    return result;\r\n                \r\n            },\r\n            (error)=>{\r\n                return error;\r\n            }\r\n\r\n        \r\n        )\r\n        }\r\n        updatefactura(factura,id){\r\n            return this.ep.updateFactura(factura,id).then(\r\n                (result)=>{\r\n                    return result;\r\n                \r\n            },\r\n            (error)=>{\r\n                return error;\r\n            }\r\n\r\n        \r\n        )\r\n        }\r\n        public  getPrecio(servicio) {\r\n            return this.ep.getPrecioServicio(servicio).then(\r\n                (response)=>{\r\n                return response.precio;\r\n            },\r\n                (err)=>{\r\n                    console.log('error:',err);   \r\n                }\r\n            )\r\n            }\r\n\r\n    \r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// /Users/macbookair/Documents/andres/frontend/src/app/pages/facturas/facturas.service.ts"],"sourceRoot":"webpack:///"}